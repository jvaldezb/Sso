flowchart TB

    %% ===============================
    %% CATEGORÍA 0 – USUARIO TÉCNICO
    %% ===============================
    subgraph CAT0[CAT 0]
        direction TB
        H0[Usuario Técnico del SSO]

        T0[Configuración inicial del SSO]
        T1[Creación de Super Administradores del SSO]
        T2[Recuperación administrativa del SSO]
        T3[Uso restringido y excepcional]

        H0 --> T0
        H0 --> T1
        H0 --> T2
        H0 --> T3
    end

    %% ===============================
    %% CATEGORÍA 1 – SUPER ADMIN SSO
    %% ===============================
    subgraph CAT1[CAT 1]
        direction TB
        H1[Super Administradores del SSO]

        A1[Administrar sistemas registrados]
        A2[Administrar usuarios globales]
        A3[Administrar roles globales]
        A4[Supervisar operación del SSO]
        A5[Designar administradores de sistemas]

        H1 --> A1
        H1 --> A2
        H1 --> A3
        H1 --> A4
        H1 --> A5
    end

    %% ===============================
    %% RELACIÓN DE DESIGNACIÓN
    %% ===============================
    T1 -.->|designa| H1

    %% ===============================
    %% ESTILOS DARK MODE (CON BORDES)
    %% ===============================
    classDef header fill:#1e272e,stroke:#7f8c8d,stroke-width:1.5px,color:#ecf0f1,font-weight:bold;

    classDef tecnico fill:#2c3e50,stroke:#95a5a6,stroke-width:2px,color:#ecf0f1;
    classDef super fill:#3b1f1f,stroke:#e74c3c,stroke-width:2px,color:#ecf0f1;

    class H0,H1 header
    class CAT0 tecnico
    class CAT1 super
